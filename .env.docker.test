# Docker Test Environment Configuration for PairPortfolio
# Used specifically for running Playwright E2E tests in Docker environment
# This file is used when tests run against the Dockerized application

# ================================================
# DATABASE CONFIGURATION (Docker Internal Network)
# ================================================
DATABASE_URL="postgresql://postgres:postgres123@postgres:5432/pairportfolio"
DIRECT_URL="postgresql://postgres:postgres123@postgres:5432/pairportfolio"

# ================================================
# NEXTAUTH.JS CONFIGURATION
# ================================================
NEXTAUTH_URL="http://app:3001"
NEXTAUTH_SECRET="docker-test-secret-key-for-playwright-e2e-testing"

# ================================================
# REDIS CONFIGURATION (Docker Internal Network)
# ================================================
REDIS_URL="redis://redis:6379/1"  # Use database 1 for tests
REDIS_PASSWORD=""
REDIS_DB="1"

# ================================================
# API KEYS - FINANCIAL DATA
# ================================================
FMP_API_KEY="Ejh2emZcJzogsHafpis8ogaXO7nPZDPI"
ALPHA_VANTAGE_API_KEY="placeholder-test-key"
YAHOO_FINANCE_ENABLED="true"

# ================================================
# JWT & SECURITY
# ================================================
JWT_SECRET_KEY="docker-test-jwt-secret-for-e2e-testing"
JWT_EXPIRES_IN="1h"
JWT_REFRESH_EXPIRES_IN="24h"

# ================================================
# ENVIRONMENT FLAGS
# ================================================
NODE_ENV="test"
NEXT_PUBLIC_APP_ENV="test"
PORT="3001"

# ================================================
# PERFORMANCE SETTINGS (Optimized for Docker)
# ================================================
# Rate limiting (disabled for tests)
RATE_LIMIT_ENABLED="false"
RATE_LIMIT_WINDOW_MS="60000"
RATE_LIMIT_MAX_REQUESTS="1000"

# API timeouts (shorter for tests)
API_TIMEOUT_MS="15000"
API_RETRY_ATTEMPTS="2"
API_RETRY_DELAY_MS="500"

# Cache settings (shorter TTL for tests)
MARKET_DATA_CACHE_TTL="300"   # 5 minutes
PRICE_DATA_CACHE_TTL="60"     # 1 minute

# ================================================
# LOGGING & MONITORING
# ================================================
LOG_LEVEL="warn"  # Reduce log noise during tests
ENABLE_REQUEST_LOGGING="false"
ENABLE_PERFORMANCE_MONITORING="false"
LOG_FORMAT="text"  # Easier to read in Docker logs

# ================================================
# FEATURE FLAGS (Enable all for comprehensive testing)
# ================================================
ENABLE_ADVANCED_STRATEGIES="true"
ENABLE_BENCHMARK_COMPARISON="true"
ENABLE_PORTFOLIO_SHARING="true"
ENABLE_EXPORT_FUNCTIONALITY="true"
ENABLE_BETA_FEATURES="true"

# ================================================
# UI/UX CONFIGURATION
# ================================================
NEXT_PUBLIC_APP_NAME="ETF Portfolio Backtesting - Docker Test"
NEXT_PUBLIC_APP_VERSION="1.0.0-docker-test"
NEXT_PUBLIC_ENABLE_ANIMATIONS="false"  # Disable for faster tests
NEXT_PUBLIC_CHART_UPDATE_INTERVAL="1000"

# ================================================
# EXTERNAL SERVICES (Disabled for tests)
# ================================================
EMAIL_SERVICE_ENABLED="false"
ANALYTICS_ENABLED="false"
SENTRY_ENABLED="false"
DISABLE_TELEMETRY="true"

# ================================================
# DOCKER-SPECIFIC TEST CONFIGURATION
# ================================================
# Test data cleanup settings
ENABLE_TEST_DATA_CLEANUP="true"
TEST_DATA_RETENTION_HOURS="1"

# Performance settings
TEST_TIMEOUT_MS="30000"
TEST_RETRY_ATTEMPTS="2"

# Health check settings
HEALTH_CHECK_ENABLED="true"
HEALTH_CHECK_ENDPOINT="/api/health"